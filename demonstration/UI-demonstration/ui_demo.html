<!doctype html>
<html lang="ru">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UI Demo</title>
  <style>
    :root {
      --bg: #0b1020;
      --panel: #0f172a;
      --card: #0f1b34;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --accent: #22c55e;
      --border: rgba(255, 255, 255, .10);
      --shadow: 0 18px 45px rgba(0, 0, 0, .40);
      --radius: 18px;
    }

    * {
      box-sizing: border-box
    }

    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
      color: var(--text);
      background: radial-gradient(1200px 500px at 20% -10%, rgba(34, 197, 94, .15), transparent 60%),
        radial-gradient(900px 420px at 85% 0%, rgba(59, 130, 246, .12), transparent 55%),
        var(--bg);
    }

    .wrap {
      max-width: 1200px;
      margin: 0 auto;
      padding: 18px 20px 34px
    }

    header {
      position: sticky;
      top: 0;
      z-index: 10;
      background: linear-gradient(to bottom, rgba(11, 16, 32, .92), rgba(11, 16, 32, .70));
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border);
    }

    .topbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
      min-width: 260px
    }

    .badge {
      width: 14px;
      height: 14px;
      border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 0 6px rgba(34, 197, 94, .15);
      flex: 0 0 auto;
    }

    h1 {
      margin: 0;
      font-size: 16px;
      letter-spacing: .2px;
      font-weight: 700
    }

    nav {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      justify-content: flex-end
    }

    nav a {
      color: var(--text);
      text-decoration: none;
      font-size: 13px;
      padding: 10px 12px;
      border: 1px solid var(--border);
      border-radius: 999px;
      background: rgba(255, 255, 255, .03);
      transition: transform .08s ease, background .12s ease, border-color .12s ease;
      user-select: none;
    }

    nav a:hover {
      background: rgba(255, 255, 255, .06)
    }

    nav a:active {
      transform: translateY(1px)
    }

    nav a.active {
      border-color: rgba(34, 197, 94, .45);
      background: rgba(34, 197, 94, .10);
    }

    .layout {
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-top: 18px
    }

    .card {
      background: linear-gradient(180deg, rgba(255, 255, 255, .06), rgba(255, 255, 255, .03));
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    .cardHead {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 14px 16px;
      border-bottom: 1px solid var(--border);
      background: rgba(15, 23, 42, .55);
      gap: 12px;
    }

    .cardTitle {
      margin: 0;
      font-size: 14px;
      font-weight: 700
    }

    .media {
      padding: 12px 12px 14px
    }

    video {
      width: 100%;
      height: auto;
      display: block;
      border-radius: 14px;
      border: 1px solid rgba(255, 255, 255, .08);
      background: rgba(0, 0, 0, .35);
    }

    .thumbGrid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }

    .thumbCard {
      cursor: pointer
    }

    .thumbCard:hover {
      outline: 1px solid rgba(255, 255, 255, .12)
    }

    .thumbCard .cardHead {
      padding: 12px 14px
    }

    .thumbCard .media {
      padding: 10px 10px 12px
    }

    .thumbCard video {
      border-radius: 12px
    }

    @media (max-width: 860px) {
      .thumbGrid {
        grid-template-columns: 1fr
      }

      nav a {
        padding: 9px 11px
      }
    }
  </style>
</head>

<body>
  <header>
    <div class="wrap">
      <div class="topbar">
        <div class="brand">
          <div class="badge" aria-hidden="true"></div>
          <h1>UI Demo</h1>
        </div>
        <nav aria-label="Навигация">
          <a href="#add" data-key="add">Добавление</a>
          <a href="#edit" data-key="edit">Редактирование</a>
          <a href="#meeting" data-key="meeting">Встреча</a>
        </nav>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div class="layout">
      <section class="card" id="main">
        <div class="cardHead">
          <h2 class="cardTitle" id="mainTitle">—</h2>
        </div>
        <div class="media">
          <video id="mainVideo" autoplay muted loop playsinline controls preload="metadata"></video>
        </div>
      </section>

      <section class="thumbGrid" id="thumbs" aria-label="Другие сценарии"></section>
    </div>
  </main>

  <script>
    const demos = {
      add: { title: 'Добавление члена комиссии', src: 'cropped/Add_ui.mp4' },
      edit: { title: 'Поиск и редактирование профиля члена комиссии', src: 'cropped/Edit_ui.mp4' },
      meeting: { title: 'Обновление списка членов комиссии на заседании', src: 'cropped/MeetingEdit_ui.mp4' },
    };

    const order = ['add', 'edit', 'meeting'];

    const navLinks = Array.from(document.querySelectorAll('nav a[data-key]'));
    const mainVideo = document.getElementById('mainVideo');
    const mainTitle = document.getElementById('mainTitle');
    const thumbs = document.getElementById('thumbs');

    function ensureLoop(v) {
      v.addEventListener('ended', () => {
        try { v.currentTime = 0; } catch (e) { }
        v.play().catch(() => { });
      });
    }

    function setActive(key) {
      if (!demos[key]) key = 'add';

      navLinks.forEach(a => a.classList.toggle('active', a.dataset.key === key));

      mainTitle.textContent = demos[key].title;
      if (mainVideo.getAttribute('src') !== demos[key].src) {
        mainVideo.src = demos[key].src;
        mainVideo.load();
      }
      mainVideo.play().catch(() => { });

      thumbs.innerHTML = '';
      const others = order.filter(k => k !== key);
      others.forEach(k => {
        const card = document.createElement('section');
        card.className = 'card thumbCard';
        card.id = `thumb-${k}`;
        card.setAttribute('role', 'button');
        card.setAttribute('tabindex', '0');

        const head = document.createElement('div');
        head.className = 'cardHead';
        const h = document.createElement('h3');
        h.className = 'cardTitle';
        h.textContent = demos[k].title;
        head.appendChild(h);

        const media = document.createElement('div');
        media.className = 'media';
        const v = document.createElement('video');
        v.src = demos[k].src;
        v.autoplay = true;
        v.muted = true;
        v.loop = true;
        v.playsInline = true;
        v.preload = 'metadata';
        ensureLoop(v);
        media.appendChild(v);

        card.appendChild(head);
        card.appendChild(media);

        const activate = () => {
          location.hash = `#${k}`;
          setActive(k);
          try { mainVideo.currentTime = 0; } catch (e) { }
        };

        card.addEventListener('click', activate);
        card.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); activate(); }
        });

        thumbs.appendChild(card);
      });
    }

    function kickAll() {
      document.querySelectorAll('video').forEach(v => v.play().catch(() => { }));
    }
    window.addEventListener('click', kickAll, { once: true });
    window.addEventListener('keydown', kickAll, { once: true });

    ensureLoop(mainVideo);

    function fromHash() {
      const h = (location.hash || '').replace('#', '');
      if (demos[h]) return h;
      return 'add';
    }

    window.addEventListener('hashchange', () => setActive(fromHash()));
    setActive(fromHash());
  </script>
</body>

</html>